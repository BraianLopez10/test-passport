<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .wrap-btn-fb {
        width: 50%;
        margin: auto;
        margin-top: 20px;
        text-align: center;
      }
      .btn-fb {
        height: 40px;
        border-radius: 10px;
        background-color: blue;
      }
      .btn-fb a {
        color: white;
        font-weight: bold;
        text-decoration: none;
      }
      form {
        width: 50%;
        margin: auto;
        text-align: center;
      }
      .input-form {
        text-align: center;
        width: 80%;
        height: 25px;
        margin: 10px;
      }
      .button {
        height: 30px;
        width: 20%;
        margin: auto;
        background-color: rgb(91, 91, 209);
        color: white;
      }
    </style>
  </head>

  <body>
    <form onsubmit="register(event)">
      <h5>REGISTRO</h5>
      <input
        type="text"
        placeholder="Nombre"
        class="input-form"
        name="name"
      /><br />
      <input
        type="text"
        placeholder="Username"
        name="username"
        class="input-form"
      /><br />
      <input
        type="password"
        placeholder="Password"
        class="input-form"
        name="password"
      /><br />
      <button type="submit" class="input-form button">Enviar</button>
    </form>
    <form onsubmit="login(event)">
      <h5>LOGIN</h5>
      <input
        type="text"
        placeholder="Username"
        class="input-form"
        name="username"
      /><br />
      <input
        type="password"
        placeholder="Password"
        class="input-form"
        name="password"
      /><br />
      <button type="submit" class="input-form button">Enviar</button>
    </form>
    <div class="wrap-btn-fb">
      <button class="btn-fb">
        <a href="/api/auth/facebook">Login with Facebook</a>
      </button>
    </div>

    <script>
      function register(event) {
        event.preventDefault();

        let datos = {
          [event.target[0].name]: event.target[0].value,
          [event.target[1].name]: event.target[1].value,
          [event.target[2].name]: event.target[2].value,
        };
        fetch("http://localhost:4000/api/register", {
          method: "POST",
          body: JSON.stringify(datos),
          headers: {
            "Content-Type": "application/json",
          },
        }).then((res) => {
          res.json().then((datos) => {
            console.log(datos);
          });
        });
      }
      function login(event) {
        event.preventDefault();

        let datos = {
          [event.target[0].name]: event.target[0].value,
          [event.target[1].name]: event.target[1].value,
        };
        fetch("http://localhost:4000/api/auth/login", {
          method: "POST",
          body: JSON.stringify(datos),
          headers: {
            "Content-Type": "application/json",
          },
        }).then((res) => {
          res.json().then((datos) => {
            console.log(datos);
          });
        });
      }
    </script>
  </body>
</html>
